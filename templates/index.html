<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–æ–∏ —Å–º–µ–Ω—ã</title>
    <style>
        body {
            background-color: #1e1e1e;
            color: #ffffff;
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: #2e2e2e;
            margin-bottom: 20px;
        }

        th, td {
            padding: 10px 12px;
            border: 1px solid #444;
            text-align: left;
        }

        th {
            background-color: #3a3a3a;
        }

        .months {
            text-align: center;
            margin-bottom: 20px;
        }

        .months a {
            color: #ffffff;
            background-color: #444;
            padding: 8px 12px;
            margin: 2px;
            text-decoration: none;
            border-radius: 5px;
            display: inline-block;
        }

        .months a.active {
            background-color: #0066cc;
        }

        .total {
            text-align: right;
            font-size: 1.2em;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>üóìÔ∏è –ú–æ–∏ —Å–º–µ–Ω—ã</h1>
    <div class="months">
        {% for m in range(1, 13) %}
            <a href="/?month={{ m }}" class="{{ 'active' if selected_month == m else '' }}">{{ m }} –º–µ—Å—è—Ü</a>
        {% endfor %}
        <a href="/" class="{{ 'active' if not selected_month else '' }}">–í—Å–µ –º–µ—Å—è—Ü—ã</a>
    </div>

    {% if shifts %}
        <table>
            <tr>
                <th>–î–∞—Ç–∞</th>
                <th>–†–æ–ª—å</th>
                <th>–ü—Ä–æ–≥—Ä–∞–º–º–∞</th>
                <th>–í—Ä–µ–º—è</th>
                <th>–ì–æ–Ω–æ—Ä–∞—Ä</th>
            </tr>
            {% for s in shifts %}
                <tr>
                    <td>{{ s["date"].strftime("%d.%m.%Y") if s["date"] else "" }}</td>
                    <td>{{ s["role"] or "" }}</td>
                    <td>{{ s["program"] or "" }}</td>
                    <td>
                        {% if s["start_time"] == "–í–µ—Å—å –¥–µ–Ω—å" %}
                            –í–µ—Å—å –¥–µ–Ω—å
                        {% elif s["start_time"] and s["end_time"] %}
                            {{ s["start_time"] }}‚Äì{{ s["end_time"] }}
                        {% elif s["start_time"] %}
                            —Å {{ s["start_time"] }}
                        {% elif s["end_time"] %}
                            –¥–æ {{ s["end_time"] }}
                        {% endif %}
                    </td>
                    <td>{{ "{:,.0f}".format(s["salary"]).replace(",", " ") + " ‚ÇΩ" if s["salary"] else "" }}</td>
                </tr>
            {% endfor %}
        </table>

        <div class="total">üí∞ –°—É–º–º–∞ –∑–∞ –º–µ—Å—è—Ü: {{ total_salary }} ‚ÇΩ</div>
    {% else %}
        <p>–°–º–µ–Ω –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –º–µ—Å—è—Ü –Ω–µ—Ç.</p>
    {% endif %}
</body>
</html>